# 011 — Починить deep-search-results.html: кодировка + fallback к /public/mock

## Контекст
- Страница: `loads/product_cart/product_cart/deep-search-results.html`
- Симптомы: при открытии локально отображается «простыня» текста и «кракозябры».
- Цель: вернуть корректный HTML-рендер + рабочий fallback на мок-данные при `q=транзистор`.
- Рабочие каталоги: `loads/product_cart/**`, `public/mock/**`, `reports/**`
- OPS/серверные конфиги НЕ трогаем (если нужно — оформить отдельный блокер).

## Что сделать (безопасно)
1) **Восстановить валидную разметку**
   - Убедиться, что файл начинается с `<!doctype html>` и **нет** лишнего текста до `<!doctype>`.
   - В `<head>` добавить (или убедиться, что есть) `<meta charset="utf-8">` как один из первых тегов.
   - Файл сохранить в **UTF-8** (допускается BOM), чтобы `file://` тоже рендерился верно.

2) **Поправить fallback к мокам**
   - В JS оставить любой удобный вариант, но путь ДОЛЖЕН быть **абсолютный**:
     ```js
     const mockUrl = "/public/mock/search-" + encodeURIComponent(q) + ".json";
     ```
   - Логика: `try API → catch → fetch(mockUrl)` (мягкий фолбэк, UI не ломать).

3) **Моки**
   - Проверяем наличие `public/mock/search-%D1%82%D1%80%D0%B0%D0%BD%D0%B7%D0%B8%D1%81%D1%82%D0%BE%D1%80.json`
     (и/или `search-транзистор.json` в UTF-8). Внутри минимум 2 товара: `2N3904`, `BC547`.

4) **Проверка — ТОЛЬКО через HTTP**
   - Локально поднять http-сервер из корня репо:
     - Вариант А (Python): `py -m http.server 8088`
     - Вариант B (Node): `npx http-server -p 8088 -c-1 .`
   - Открыть:  
     `http://127.0.0.1:8088/loads/product_cart/product_cart/deep-search-results.html?q=транзистор`

5) **Артефакты / отчёты**
   - В `reports/TASK_011_YYYYMMDD_HHMMSS/` сохранить:
     - `local_search_results.html` — HTML снапшот после рендера
     - `local_search_results.png` — скриншот
     - `diff_deep-search-results.patch` — изменения по файлу
     - `notes.md` — что было сломано и как починили
   - Коммит: `fix(front): search results page encoding + mock fallback (TASK 011)`

## Критерии готовности (DoD)
- При открытии по **HTTP** страница рендерится корректно, **нет кракозябр**.
- По запросу `q=транзистор` отображаются **>= 2 строки** (`2N3904`, `BC547`) из моков.
- В консоли браузера **нет** ошибок.
- Отчёты и патч лежат в своей папке `reports/TASK_011_*`.

## Ограничения
- Не трогать OPS/NGINX/Strapi и т.д.
- Не менять глобальные пути/структуру проекта.
