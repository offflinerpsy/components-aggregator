# Components Aggregator - –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç—ã

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–µ—Ä ChipDip.ru
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ —Å –≤—ã–±–æ—Ä–æ–º —Å–∞–º–æ–≥–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQLite
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∫—Ä–∞—Å–∏–≤—ã–π UI —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
/var/www/aggregator/
‚îú‚îÄ‚îÄ chipdip.js         # –ü–∞—Ä—Å–µ—Ä ChipDip
‚îú‚îÄ‚îÄ server.js          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8080)
‚îú‚îÄ‚îÄ proxy.js           # –ü—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8001)
‚îú‚îÄ‚îÄ db.js             # –†–∞–±–æ—Ç–∞ —Å SQLite
‚îú‚îÄ‚îÄ template.js       # –†–∞–±–æ—Ç–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ pdf_cache.js      # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ PDF
‚îî‚îÄ‚îÄ public/           # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    ‚îú‚îÄ‚îÄ index.html    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
    ‚îú‚îÄ‚îÄ search.html   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    ‚îî‚îÄ‚îÄ templates/    # –®–∞–±–ª–æ–Ω—ã
        ‚îî‚îÄ‚îÄ product.html  # –®–∞–±–ª–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
```

## –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
1. **–ü–æ–∏—Å–∫:**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–∞–º—ã–π —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Å —Å–∞–º—ã–º –¥–ª–∏–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQLite
   - –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–∞–¥–µ—Ä

2. **–ü—Ä–æ–∫—Å–∏:**
   - –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8001
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π ChipDip.ru
   - –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

3. **–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Handlebars –¥–ª—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–∞–ª–µ—Ä–µ—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ö—ç—à–∏—Ä—É–µ—Ç PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## –î–æ–ø—É—â–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
1. **–û—à–∏–±–∫–∞ —Å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤:**
   - ‚ùå –ö–æ–ø–∏—Ä–æ–≤–∞–ª —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–µ–Ω—å –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞–ø–æ–∫
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: —Å—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

2. **–û—à–∏–±–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   - ‚ùå –ü—Ä–æ–≤–µ—Ä—è–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

3. **–û—à–∏–±–∫–∞ –≤ —à–∞–±–ª–æ–Ω–µ Handlebars:**
   - ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `images.[0]`

## –°–µ—Ä–≤–µ—Ä
- **IP:** 89.104.69.77
- **–ü–æ—Ä—Ç—ã:** 
  - 8080 - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
  - 8001 - –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä
- **–ü—É—Ç—å:** /var/www/aggregator/

## –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–∏—Å–∫–∞ - –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É 500 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–∏—Ç—å UI
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. üîÑ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥—Ä—É–≥–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
2. üîÑ –£–ª—É—á—à–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π)
3. üîÑ –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
4. üîÑ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

## –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤

2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
   - –°–æ–±–ª—é–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –æ—Ç–¥–µ–ª—å–Ω–æ (curl)
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f node

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
cd /var/www/aggregator
nohup node proxy.js > proxy.log 2>&1 &
nohup node server.js > server.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep node | grep -v grep

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f server.log
tail -f proxy.log
```

## –í–∞–∂–Ω—ã–µ URL
- –ì–ª–∞–≤–Ω–∞—è: http://89.104.69.77:8080/
- –ü–æ–∏—Å–∫: http://89.104.69.77:8080/search.html?q=QUERY
- –ö–∞—Ä—Ç–æ—á–∫–∞: http://89.104.69.77:8080/product?url=URL
- API –ø–æ–∏—Å–∫–∞: http://89.104.69.77:8080/api/search?q=QUERY
